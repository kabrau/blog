<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=cGvuclDC_Z1vE_cnVEU6Ae_NZQ7StBcqH_vXVqoPMX0');ol{margin:0;padding:0}table td,table th{padding:0}.c13{background-color:#eff0f1;color:#858c93;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Consolas";font-style:normal}.c7{background-color:#ffffff;color:#404040;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Consolas";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c3{color:#d4d4d4;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Consolas";font-style:normal}.c36{padding-top:0pt;padding-bottom:12pt;line-height:1.45;orphans:2;widows:2;text-align:left}.c23{padding-top:0pt;padding-bottom:11pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.3571428571428572;orphans:2;widows:2;text-align:left}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.45;orphans:2;widows:2;text-align:left}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{background-color:#f6f8fa;font-size:10pt;font-family:"Consolas";color:#24292e;font-weight:400}.c37{background-color:#f6f8fa;color:#6a737d;font-weight:400;font-size:10pt;font-family:"Consolas"}.c0{background-color:#eff0f1;font-size:10pt;font-family:"Consolas";color:#303336;font-weight:400}.c8{background-color:#eff0f1;font-size:10pt;font-family:"Consolas";color:#7d2727;font-weight:400}.c19{background-color:#f6f8fa;font-size:10pt;font-family:"Consolas";color:#d73a49;font-weight:400}.c26{background-color:#eff0f1;font-size:10pt;font-family:"Consolas";color:#2b91af;font-weight:400}.c6{background-color:#eff0f1;font-size:10pt;font-family:"Consolas";color:#101094;font-weight:400}.c9{background-color:#ffffff;font-size:9pt;font-family:"Consolas";color:#009999;font-weight:400}.c29{background-color:#333333;font-size:13pt;color:#ffffff;text-decoration:underline}.c28{font-size:9pt;font-family:"Consolas";color:#e74c3c;font-weight:400}.c12{font-size:10.5pt;font-family:"Consolas";color:#b5cea8;font-weight:400}.c33{background-color:#f6f8fa;color:#24292e;font-size:10pt;font-family:"Consolas"}.c31{font-size:10.5pt;font-family:"Consolas";color:#608b4e;font-weight:400}.c34{font-size:9pt;font-family:"Consolas";color:#008080;font-weight:400}.c21{color:#000000;font-weight:700;font-size:11pt;font-family:"Arial"}.c24{font-size:9pt;font-family:"Consolas";color:#404040;font-weight:400}.c15{font-size:10.5pt;font-family:"Consolas";color:#d4d4d4;font-weight:400}.c17{font-size:9pt;font-family:"Consolas";color:#333333;font-weight:400}.c10{font-size:10.5pt;font-family:"Consolas";color:#ce9178;font-weight:400}.c27{color:#ff0000;font-weight:700;font-size:11pt;font-family:"Arial"}.c18{font-size:10.5pt;font-family:"Consolas";color:#569cd6;font-weight:400}.c16{text-decoration:none;vertical-align:baseline;font-style:normal}.c35{font-size:9pt;font-family:"Consolas";color:#404040}.c22{color:#1155cc;text-decoration:underline}.c32{max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c20{color:inherit;text-decoration:inherit}.c30{font-weight:700}.c2{height:11pt}.c25{background-color:#ffffff}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c25 c32"><p class="c1"><span class="c30">Desinstalei todos pythons</span><span><br><br></span><span class="c30">Instalei o Anaconda3-4.4.0</span><span class="c5">&nbsp;(All Users, e marquei para colocar no path as vari&aacute;veis)</span></p><p class="c1"><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://www.continuum.io/downloads&amp;sa=D&amp;ust=1503532673897000&amp;usg=AFQjCNFPRHwm_61YBiCrWnl0AR41bnSPbw">https://www.continuum.io/downloads</a></span></p><p class="c1"><span>isso instala o Python 3.6</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c17">conda</span><span class="c24">&nbsp;</span><span class="c17">update</span><span class="c24">&nbsp;</span><span class="c17 c16">conda</span></p><p class="c1"><span class="c17">conda</span><span class="c24">&nbsp;</span><span class="c17">update</span><span class="c24">&nbsp;</span><span class="c17 c16">python</span></p><p class="c1"><span class="c17 c16">conda install numpy</span></p><p class="c1"><span class="c17 c16">pip install opencv</span></p><p class="c1"><span class="c17 c16">pip install opencv-python</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">testei alguns exemplos e vi que continuam funcionando</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c21 c16">Agora para o caffe precisa do Python 3.5</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">criei um ambiente para o 3.5</span></p><p class="c1"><span class="c24 c25">conda create -n py35 </span><span class="c25 c34">python</span><span class="c35 c30 c25">=</span><span class="c9">3</span><span class="c7">.5 anaconda</span></p><p class="c23"><span class="c0">activate </span><span class="c24 c25">py35 (volta para o 3.6 com </span><span class="c25 c28">deactivate</span><span class="c17 c25">, lista: conda</span><span class="c24 c25">&nbsp;</span><span class="c17 c25">info</span><span class="c24 c25">&nbsp;</span><span class="c30 c25 c35">--</span><span class="c17 c16 c25">envs)</span></p><p class="c36"><span class="c11 c16">conda config --add channels conda-forg<br>conda config --add channels willyd</span></p><p class="c23"><span class="c28 c25">conda install --yes cmake ninja numpy scipy protobuf six scikit-image pyyaml pydotplus graphviz</span></p><p class="c14"><span class="c11 c16">conda install ninja --yes</span></p><p class="c14"><span class="c11 c16">conda install -c menpo opencv3</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c16 c21">Baixei o Caff&eacute;</span></p><p class="c1"><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://github.com/BVLC/caffe/tree/windows&amp;sa=D&amp;ust=1503532673900000&amp;usg=AFQjCNG7JJNw6l0K90_GW3tAziKQEyFidQ">https://github.com/BVLC/caffe/tree/windows</a></span><span class="c5">&nbsp;</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c14"><span class="c11">C:\Projects</span><span class="c19">&gt;</span><span class="c11">&nbsp;git clone https://github.com/BVLC/caffe.git<br>C:\Projects</span><span class="c19">&gt;</span><span class="c11">&nbsp;</span><span class="c19">cd</span><span class="c11">&nbsp;caffe<br>C:\Projects\caffe</span><span class="c19">&gt;</span><span class="c11 c16">&nbsp;git checkout windows<br></span></p><p class="c14"><span class="c16 c37">:: Edit any of the options inside build_win.cmd to suit your needs</span></p><p class="c14"><span class="c11 c16">- fiz v&aacute;rias altera&ccedil;&otilde;es em scripts\build_win.cmd</span></p><p class="c14"><span class="c11 c16">- s&oacute; funciona com VS at&eacute; 2015 (14)</span></p><p class="c14"><span class="c11"><br>C:\Projects\caffe</span><span class="c19">&gt;</span><span class="c11 c16">&nbsp;scripts\build_win.cmd</span></p><p class="c14 c2"><span class="c11 c16"></span></p><p class="c14 c2"><span class="c11 c16"></span></p><p class="c14 c2"><span class="c11 c16"></span></p><p class="c14"><span class="c11 c16">Primeiro, compilei pelo VS2015 o projeto ALL_BUILD</span></p><p class="c14"><span class="c11">Depois, rodei direto pelo prompt<br>C:\Projects\caffe</span><span class="c19">&gt;</span><span class="c11 c16">&nbsp;scripts\build_win.cmd</span></p><p class="c14 c2"><span class="c11 c16"></span></p><p class="c1"><span class="c5">Agora, testar o caffe</span></p><p class="c1"><span class="c5">cd E:\GitHub\caffe\build\tools\Release</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Agora testar o Python</span></p><p class="c1"><span class="c5">python -c &quot;import caffe;print( caffe.__version__)&quot;</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">n&atilde;o funcionou, ent&atilde;o</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">copiei a pasta caffe</span></p><p class="c1"><span class="c5">E:\GitHub\caffe\python\caffe</span></p><p class="c1"><span class="c5">para o anaconda, dentro de </span></p><p class="c1"><span class="c5">C:\ProgramData\Anaconda3\Lib\site-packages</span></p><p class="c1"><span class="c5">C:\ProgramData\Anaconda3\envs\py35\Lib\site-packages</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>(segui parte deste video </span><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DAN2uXGRvw9E&amp;sa=D&amp;ust=1503532673903000&amp;usg=AFQjCNHtKSCAnb6yGN-8RuFQHGO7qO2hVQ">https://www.youtube.com/watch?v=AN2uXGRvw9E</a></span><span class="c5">) </span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Agora um teste mais efetivo</span></p><p class="c1"><span class="c5">(py35) python python\classify.py examples/images/cat.jpg foo2 --gpu</span></p><p class="c1"><span class="c5"><br>Me d&aacute; o erro:</span></p><p class="c1"><span class="c5">RuntimeError: Could not open file python\../models/bvlc_reference_caffenet/bvlc_reference_caffenet.caffemodel</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Isso deve dizer que n&atilde;o tenho este modelo, ent&atilde;o estou baixando um pronto de:</span></p><p class="c1"><span class="c22"><a class="c20" href="https://www.google.com/url?q=http://dl.caffe.berkeleyvision.org/bvlc_reference_caffenet.caffemodel&amp;sa=D&amp;ust=1503532673904000&amp;usg=AFQjCNFl0CK8NBvDI4skn9r9fWczgqnVuw">http://dl.caffe.berkeleyvision.org/bvlc_reference_caffenet.caffemodel</a></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">vou colocar na pasta:</span></p><p class="c1"><span class="c5">E:\GitHub\caffe\models\bvlc_reference_caffenet</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Agora o erro &eacute;:</span></p><p class="c1"><span class="c5">File &quot;E:\GitHub\caffe\python\caffe\classifier.py&quot;, line 34, in __init__</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; self.transformer.set_mean(in_, mean)</span></p><p class="c1"><span class="c5">&nbsp; File &quot;E:\GitHub\caffe\python\caffe\io.py&quot;, line 259, in set_mean</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; raise ValueError(&#39;Mean shape incompatible with input shape.&#39;)</span></p><p class="c1"><span class="c5">ValueError: Mean shape incompatible with input shape.</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Ent&atilde;o, no arquivo &nbsp;&quot;E:\GitHub\caffe\python\caffe\io.py&quot;, troquei na linha 259, isso:</span></p><p class="c23"><span class="c6">if</span><span class="c0">&nbsp;ms != self.inputs[in_][</span><span class="c8">1</span><span class="c0">:]: </span><span class="c6">raise</span><span class="c0">&nbsp;</span><span class="c26">ValueError</span><span class="c0">(</span><span class="c8">&#39;Mean shape incompatible with input shape.&#39;</span><span class="c0 c16">)</span></p><p class="c1"><span class="c5">por:</span></p><p class="c23"><span class="c6">if</span><span class="c0">&nbsp;ms != self.inputs[in_][</span><span class="c8">1</span><span class="c0">:]: </span><span class="c6">print</span><span class="c0">(self.inputs[in_]) in_shape = self.inputs[in_][</span><span class="c8">1</span><span class="c0">:] m_min, m_max = mean.min(), mean.max() normal_mean = (mean - m_min) / (m_max - m_min) mean = resize_image(normal_mean.transpose((</span><span class="c8">1</span><span class="c0">,</span><span class="c8">2</span><span class="c0">,</span><span class="c8">0</span><span class="c0">)),in_shape[</span><span class="c8">1</span><span class="c0">:]).transpose((</span><span class="c8">2</span><span class="c0">,</span><span class="c8">0</span><span class="c0">,</span><span class="c8">1</span><span class="c0">)) * (m_max - m_min) + m_min </span><span class="c13">#raise ValueError(&#39;Mean shape incompatible with input shape.&#39;)</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Agora, me deu o erro:</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">File &quot;E:\GitHub\caffe\python\caffe\classifier.py&quot;, line 95, in predict</span></p><p class="c1"><span class="c5">&nbsp; &nbsp; predictions = predictions.reshape((len(predictions) / 10, 10, -1))</span></p><p class="c1"><span class="c5">TypeError: &#39;float&#39; object cannot be interpreted as an integer</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">ent&atilde;o, &nbsp;&quot;E:\GitHub\caffe\python\caffe\classifier.py&quot;, line 95, troquei:</span></p><p class="c4"><span class="c15">predictions = predictions.reshape((len(predictions) / </span><span class="c12">10</span><span class="c15">, </span><span class="c12">10</span><span class="c15">, -</span><span class="c12">1</span><span class="c3">))</span></p><p class="c1"><span class="c5">por:</span></p><p class="c4"><span class="c15">predictions = predictions.reshape((len(predictions) // </span><span class="c12">10</span><span class="c15">, </span><span class="c12">10</span><span class="c15">, -</span><span class="c12">1</span><span class="c3">))</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>PRONTO, result:</span></p><p class="c1"><span class="c5">Loading file: examples/images/cat.jpg</span></p><p class="c1"><span class="c5">Classifying 1 inputs.</span></p><p class="c1"><span class="c5">Done in 0.09 s.</span></p><p class="c1"><span class="c5">Saving results into foo2</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">E criou um arquivo chamado foo2.npy</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Mas preciso mostrar o resultado, e o arquivo acima tem apenas os valores de predi&ccedil;&atilde;o para todas as classes, sem nome de classes, ent&atilde;o &hellip;</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>segui este videos e outro links por conta dos erros </span><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DRjRkJ5N0xPU&amp;sa=D&amp;ust=1503532673909000&amp;usg=AFQjCNH70j0-aKC74mrbOvSWyyj5jKt3YQ">https://www.youtube.com/watch?v=RjRkJ5N0xPU</a></span><span class="c5">&nbsp;</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">adicionei no arquivo classify.py :<br><br>no in&iacute;cio:</span></p><p class="c1"><span>import pandas as pd<br><br>em (</span><span class="c31"># Optional arguments.</span><span class="c5">)</span></p><p class="c4"><span class="c15">&nbsp; &nbsp;</span><span class="c31 c16"># Optional arguments.</span></p><p class="c4"><span class="c3">&nbsp; &nbsp;parser.add_argument(</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c10">&quot;--print_results&quot;</span><span class="c3">,</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;action=</span><span class="c10">&#39;store_true&#39;</span><span class="c3">,</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;help=</span><span class="c10 c16">&quot;Write output text to stdout rather than serializing to a file.&quot;</span></p><p class="c4"><span class="c3">&nbsp; &nbsp;)</span></p><p class="c4"><span class="c3">&nbsp; &nbsp;parser.add_argument(</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c10">&quot;--labels_file&quot;</span><span class="c3">,</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;default=os.path.join(pycaffe_dir,</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c10">&quot;../data/ilsvrc12/synset_words.txt&quot;</span><span class="c3">),</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;help=</span><span class="c10 c16">&quot;Readable label definition file.&quot;</span></p><p class="c4"><span class="c3">&nbsp; &nbsp;)</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">e modifiquei o Classify</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c4"><span class="c15">&nbsp; &nbsp;</span><span class="c31 c16"># Classify.</span></p><p class="c4"><span class="c3">&nbsp; &nbsp;start = time.time()</span></p><p class="c4"><span class="c15">&nbsp; &nbsp;score = classifier.predict(inputs, </span><span class="c18">not</span><span class="c3">&nbsp;args.center_only)</span></p><p class="c4"><span class="c15">&nbsp; &nbsp;print(</span><span class="c10">&quot;Done in %.2f s.&quot;</span><span class="c3">&nbsp;% (time.time() - start))</span></p><p class="c4 c2"><span class="c3"></span></p><p class="c4 c2"><span class="c3"></span></p><p class="c4"><span class="c15">&nbsp; &nbsp;</span><span class="c18">if</span><span class="c3">&nbsp;args.print_results:</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c18">with</span><span class="c15">&nbsp;open(args.labels_file) </span><span class="c18">as</span><span class="c3">&nbsp;f:</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;labels_df = pd.DataFrame([</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c10">&#39;synset_id&#39;</span><span class="c15">: l.strip().split(</span><span class="c10">&#39; &#39;</span><span class="c15">)[</span><span class="c12">0</span><span class="c3">],</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c10">&#39;name&#39;</span><span class="c15">: </span><span class="c10">&#39; &#39;</span><span class="c15">.join(l.strip().split(</span><span class="c10">&#39; &#39;</span><span class="c15">)[</span><span class="c12">1</span><span class="c15">:]).split(</span><span class="c10">&#39;,&#39;</span><span class="c15">)[</span><span class="c12">0</span><span class="c3">]</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c18">for</span><span class="c15">&nbsp;l </span><span class="c18">in</span><span class="c3">&nbsp;f.readlines()</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;])</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;labels = labels_df.sort_values(</span><span class="c10">&#39;synset_id&#39;</span><span class="c3">).values</span></p><p class="c4 c2"><span class="c3"></span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;indices = (-score).argsort()[:,:</span><span class="c12">5</span><span class="c3">]</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp;predictions = labels[indices][</span><span class="c12">0</span><span class="c3">]</span></p><p class="c4 c2"><span class="c3"></span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;meta = [</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (p[</span><span class="c12">0</span><span class="c15">], </span><span class="c10">&#39;%.5f&#39;</span><span class="c15">&nbsp;% score[</span><span class="c12">0</span><span class="c3">][i])</span></p><p class="c4"><span class="c15">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c18">for</span><span class="c15">&nbsp;i, p </span><span class="c18">in</span><span class="c15">&nbsp;zip(indices[</span><span class="c12">0</span><span class="c3">], predictions)</span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span></p><p class="c4 c2"><span class="c3"></span></p><p class="c4"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;print(meta)</span></p><p class="c4 c2"><span class="c3"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>baixei o arquivo </span><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://raw.githubusercontent.com/HoldenCaulfieldRye/caffe/master/data/ilsvrc12/synset_words.txt&amp;sa=D&amp;ust=1503532673916000&amp;usg=AFQjCNG0EisFldNcW5XW1yLtzVPnJ0xQuQ">https://raw.githubusercontent.com/HoldenCaulfieldRye/caffe/master/data/ilsvrc12/synset_words.txt</a></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">e coloquei na pasta</span></p><p class="c1"><span class="c5">E:\GitHub\caffe\data\ilsvrc12</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Agora para rodar &eacute;:</span></p><p class="c1"><span class="c5">(py35) E:\GitHub\caffe&gt;python python\classify.py examples/images/cat.jpg foo2 --gpu --print_results</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">O resultado vai ficar assim:</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Classifying 1 inputs.</span></p><p class="c1"><span class="c5">Done in 0.09 s.</span></p><p class="c1"><span class="c5">[(&#39;tabby&#39;, &#39;0.27934&#39;), (&#39;tiger cat&#39;, &#39;0.21915&#39;), (&#39;Egyptian cat&#39;, &#39;0.16064&#39;), (&#39;lynx&#39;, &#39;0.12844&#39;), (&#39;kit fox&#39;, &#39;0.05155&#39;)]</span></p><p class="c1"><span class="c5">Saving results into foo2</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Desenhar &nbsp;a rede</span></p><p class="c1"><span class="c5">(py35) E:\GitHub\caffe&gt;python python\draw_net.py models\bvlc_reference_caffenet\deploy.prototxt visualization.png</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 74.67px;"><img alt="" src="images/image1.png" style="width: 601.70px; height: 74.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Baixando novos modelos</span></p><p class="c1"><span class="c5">(py35) E:\GitHub\caffe&gt;python scripts/download_model_binary.py models/bvlc_reference_rcnn_ilsvrc13</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>Agora DETEC&Ccedil;&Atilde;O &nbsp;=&gt; &nbsp;</span><span class="c16 c27">N&Atilde;O FUNCIONA SEM MATLAB</span></p><p class="c1"><span class="c5"><br><br>baixei o modelo bvlc_reference_rcnn_ilsvrc13</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">criei a pasta _TEMP</span></p><p class="c1"><span class="c5">E:\GitHub\caffe&gt;mkdir _temp</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">cria o arquivo com as imagens</span></p><p class="c1"><span class="c5">echo %cd%/images/fish-bike.jpg &gt; _temp/det_input.txt</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">Rodar</span></p><p class="c1"><span class="c5">E:\GitHub\caffe&gt;python python/detect.py --crop_mode=selective_search --pretrained_model=models/bvlc_reference_rcnn_ilsvrc13/bvlc_reference_rcnn_ilsvrc13.caffemodel --model_def=models/bvlc_reference_rcnn_ilsvrc13/deploy.prototxt --raw_scale=255 _temp/det_input.txt _temp/det_output.h5</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c5">N&atilde;o funcionou </span></p><p class="c1"><span class="c5">ent&atilde;o baixo de </span></p><p class="c1"><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://github.com/sergeyk/selective_search_ijcv_with_python&amp;sa=D&amp;ust=1503532673920000&amp;usg=AFQjCNG-IOuygL-KeZ9d9vq3vgoGyHpLdA">https://github.com/sergeyk/selective_search_ijcv_with_python</a></span></p><p class="c1"><span class="c5">coloquei a pasta selective_search_ijcv_with_python</span></p><p class="c1"><span class="c5">em </span></p><p class="c1"><span class="c5">C:\ProgramData\Anaconda3\envs\py35\Lib\site-packages\selective_search_ijcv_with_python</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span>Acontece que este &nbsp;precisa de MatLab, e eu n&atilde;o tenho, estou instalando uma alternativa </span><span class="c29"><a class="c20" href="https://www.google.com/url?q=https://www.gnu.org/software/octave/&amp;sa=D&amp;ust=1503532673920000&amp;usg=AFQjCNHjvAaYVIEsA8ugLBL-nqqwDzC8jg">GNU Octave</a></span><span>&nbsp;</span><span class="c5">para testar</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c22"><a class="c20" href="https://www.google.com/url?q=https://www.gnu.org/software/octave/download.html&amp;sa=D&amp;ust=1503532673921000&amp;usg=AFQjCNFp9F90YPNNpi430Kl5m0Ac14S7nQ">https://www.gnu.org/software/octave/download.html</a></span><span class="c5">&nbsp;</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1"><span class="c27 c16">N&Atilde;O FUNCIONA SEM MATLAB</span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p><p class="c1 c2"><span class="c5"></span></p></body></html>